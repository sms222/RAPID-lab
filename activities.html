<!DOCTYPE html>
<html>
<head>
  <title>Activities & Projects - RAPID</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header class="site-header">
  <div class="brand">
    <a href="index.html" class="brand-link">
      <img src="logo.png" alt="RAPID logo" class="logo">
    </a>
    <div class="brand-text">
      <h1>Activities & Projects</h1>
      <p>Research activities and ongoing work</p>
    </div>
  </div>

  <nav class="nav">
    <a href="index.html">Home</a>
    <a href="about.html">About</a>
    <a href="people.html">People</a>
    <a href="activities.html">Activities</a>
    <a href="publications.html">Publications</a>
    <a href="collaborate.html">Collaborate</a>
  </nav>
</header>

<!-- Journal Club FIRST -->
<section>
  <h2>Journal Club</h2>

  <div class="two-col">
    <div>
      <p>
        RAPID runs a <strong>monthly journal club</strong> focused on pharmacokinetics,
        pharmacometrics, clinical pharmacology, and precision dosing.
      </p>
      <p>
        Sessions involve critical appraisal of recent papers, discussion of modelling methods,
        and sharing of ongoing project ideas.
      </p>
      <p class="small">
        Open to RAPID members and collaborators.
      </p>
    </div>

    <div class="panel">
      <img src="jc.jpg" alt="RAPID Journal Club" class="responsive-img">
    </div>
  </div>
</section>

<section>
  <h2>Current PhD Projects (Pharmacometrics)</h2>
  <ul>
    <li><strong>Tuan Fauziah Tuan Roslli</strong> – High-dose methotrexate (HDMTX) population PK in lymphoma</li>
    <li><strong>Toh Chin Chiang</strong> – Amikacin population PK in paediatric ICU (PICU)</li>
    <li><strong>Farah Aida A. Zairol Azwan</strong> – Allopurinol and oxypurinol dose–response relationship</li>
    <li><strong>Nazatul Adhwa Mohd Rozi</strong> – Piperacillin population PK in CRRT patients</li>
  </ul>
</section>

<section>
  <h2> Past Student Projects (Clinical PK / Dosing)</h2>
  <ul>
    <li><strong>Ng Jia Wei</strong> – Dabigatran concentration variability in Malaysian population</li>
    <li><strong>Christian Andrew Almalbis</strong> – Peak and trough concentrations of apixaban and rivaroxaban in clinical practice</li>
    <li><strong>Lee Jian Lynn</strong> – Evaluation of Immunoglobulin Therapy and Population Pharmacokinetic model development</li>
  </ul>
</section>

<section>
  <h2>Collaborative Projects</h2>
  <ul>
    <li>A novel Metaheuristic algorithm for optimal experimental design (University Utara Malaysia)</li>
    <li>Peg-asparaginase pharmacokinetics in ALL patients (University of Qatar)</li>
    <li>Amikacin population PK in PICU (Ghent University, Belgium)</li>
  </ul>
</section>

<section>
  <h2>Conference Presentations</h2>

  <div class="table-wrap">
    <table id="confTable" style="table-layout:auto;">
      <thead>
        <tr>
          <th style="width: 90px;">Year</th>
          <th style="width: 180px;">Presenter</th>
          <th style="width: 260px;">Conference</th>
          <th style="width: 190px;">Location</th>
          <th>Title</th>
        </tr>
      </thead>
      <tbody>
        <tr><td colspan="5" class="small">Loading…</td></tr>
      </tbody>
    </table>
  </div>
</section>

<section>
  <h2>Past Projects</h2>
  <ul>
    <li>Moxifloxacin and levofloxacin pharmacokinetics in vitreous and aqueous humor</li>
  </ul>
</section>

<footer>
  Centre for Quality Management of Medicines, Faculty of Pharmacy UKM
</footer>

<script>
async function loadCSV(path) {
  const res = await fetch(path, { cache: "no-store" });
  const text = await res.text();
  const lines = text.split(/\r?\n/).filter(l => l.trim().length > 0);

  return lines.map(line => {
    const out = [];
    let cur = "", inQ = false;
    for (let i = 0; i < line.length; i++) {
      const ch = line[i];
      if (ch === '"') inQ = !inQ;
      else if (ch === ',' && !inQ) { out.push(cur); cur = ""; }
      else cur += ch;
    }
    out.push(cur);
    return out.map(s => s.replace(/^"|"$/g, "").trim());
  });
}

function badge(year) {
  return `<span class="badge">${year}</span>`;
}

(async () => {
  const rows = await loadCSV("conferences.csv");
  const data = rows.slice(1);

  // newest → oldest
  data.sort((a, b) => Number(b[0]) - Number(a[0]));

  const tbody = document.querySelector("#confTable tbody");
  tbody.innerHTML = "";

  for (const r of data) {
    const [Year, Presenter, Conference, Location, Title] = r;
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${badge(Year)}</td>
      <td>${Presenter}</td>
      <td>${Conference}</td>
      <td>${Location}</td>
      <td>${Title}</td>
    `;
    tbody.appendChild(tr);
  }
})();
</script>

</body>
</html>
